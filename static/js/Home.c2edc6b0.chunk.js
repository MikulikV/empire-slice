"use strict";(self.webpackChunkreact_pizza=self.webpackChunkreact_pizza||[]).push([[268],{8599:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(1413),c=r(3433),a=r(9439),u=r(2791),i=r(6048);var s=r(1087),o=r(5838),f=r(6740),l=r(6160),g=function(e){return e.items},d=r(655),h=r(30),p=r(184),v=function(){var e=(0,i.T)(),t=(0,i.C)(f.A),r=t.categoryId,v=t.sort,j=t.order,m=t.searchValue,x=t.currentPage,y=t.pageSize,S=(0,i.C)(g),_=S.items,z=S.xTotalCount,C=S.status,k=function(e,t){var r=(0,u.useState)(e),n=(0,a.Z)(r,2),c=n[0],i=n[1];return(0,u.useEffect)((function(){var r=setTimeout((function(){return i(e)}),t||500);return function(){clearTimeout(r)}}),[e,t]),c}(m,250),E=(0,s.lr)(),R=(0,a.Z)(E,2),b=R[0],A=R[1],Z=u.useRef(!1),q=u.useRef(!1);u.useEffect((function(){if(q.current){var e={page:String(x),category:String(r),sortBy:v,order:j};A(e)}q.current=!0}),[r,v,j,x]),u.useEffect((function(){if(b.has("page")&&"page=1&category=0&sortBy=rating&order=desc"!==b.toString()){var t=Object.fromEntries((0,c.Z)(b));e((0,l.rr)(t)),Z.current=!0}}),[]),u.useEffect((function(){Z.current||function(){var t=r?"category=".concat(r):"",n=k?"title_like=".concat(k):"";e((0,d.q)({search:n,page:String(x),category:t,sortBy:v,order:j,pageSize:String(y)}))}(),Z.current=!1}),[k,x,r,v,j]);var B=u.useCallback((function(t){e((0,l.uA)(t))}),[]),N=u.useCallback((function(t){e((0,l.HD)(t))}),[]),O=(0,c.Z)(new Array(6)).map((function(e,t){return(0,p.jsx)(o.Od,{},t)})),P=_.map((function(e){return(0,p.jsx)(o.qd,(0,n.Z)({},e),e.id)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"content__top",children:[(0,p.jsx)(o.Rj,{value:r,changeCategory:B}),(0,p.jsx)(o.PE,{value:v,changeSort:N})]}),(0,p.jsx)("h2",{className:"content__title",children:"All pizzas"}),C===h.q.ERROR?(0,p.jsx)(o.Bc,{}):(0,p.jsx)("div",{className:"content__items",children:C===h.q.LOADING?O:P}),(0,p.jsx)(o.G6,{currentPage:x,count:Math.ceil(z/y),changePage:function(t){e((0,l.D4)(t))}})]})}}}]);
//# sourceMappingURL=Home.c2edc6b0.chunk.js.map