"use strict";(self.webpackChunkreact_pizza=self.webpackChunkreact_pizza||[]).push([[268],{8599:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(1413),c=r(3433),a=r(9439),u=r(2791),s=r(6048);var i=r(1087),o=r(228),f=r(6740),l=r(6160),g=function(e){return e.items},d=r(655),h=r(30),p=r(184),v=function(){var e=(0,s.T)(),t=(0,s.C)(f.A),r=t.categoryId,v=t.sort,j=t.order,m=t.searchValue,x=t.currentPage,y=(0,s.C)(g),_=y.items,C=y.status,E=function(e,t){var r=(0,u.useState)(e),n=(0,a.Z)(r,2),c=n[0],s=n[1];return(0,u.useEffect)((function(){var r=setTimeout((function(){return s(e)}),t||500);return function(){clearTimeout(r)}}),[e,t]),c}(m,250),k=(0,i.lr)(),z=(0,a.Z)(k,2),R=z[0],S=z[1],b=u.useRef(!1),A=u.useRef(!1);u.useEffect((function(){if(A.current){var e={page:String(x),category:String(r),sortBy:v,order:j};S(e)}A.current=!0}),[r,v,j,x]),u.useEffect((function(){if(R.has("page")&&"page=1&category=0&sortBy=rating&order=desc"!==R.toString()){var t=Object.fromEntries((0,c.Z)(R));e((0,l.rr)(t)),b.current=!0}}),[]),u.useEffect((function(){b.current||function(){var t=r?"category=".concat(r):"",n=E?"title=".concat(E):"";e((0,d.q)({search:n,page:String(x),category:t,sortBy:v,order:j}))}(),b.current=!1}),[E,x,r,v,j]);var Z=u.useCallback((function(t){e((0,l.uA)(t))}),[]),q=u.useCallback((function(t){e((0,l.HD)(t))}),[]),B=(0,c.Z)(new Array(6)).map((function(e,t){return(0,p.jsx)(o.Od,{},t)})),N=_.map((function(e){return(0,p.jsx)(o.qd,(0,n.Z)({},e),e.id)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"content__top",children:[(0,p.jsx)(o.Rj,{value:r,changeCategory:Z}),(0,p.jsx)(o.PE,{value:v,changeSort:q})]}),(0,p.jsx)("h2",{className:"content__title",children:"All pizzas"}),C===h.q.ERROR?(0,p.jsx)(o.Bc,{}):(0,p.jsx)("div",{className:"content__items",children:C===h.q.LOADING?B:N}),(0,p.jsx)(o.G6,{currentPage:x,changePage:function(t){e((0,l.D4)(t))}})]})}}}]);
//# sourceMappingURL=Home.53521a7d.chunk.js.map