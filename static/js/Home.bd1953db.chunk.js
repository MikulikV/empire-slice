"use strict";(self.webpackChunkempire_slice=self.webpackChunkempire_slice||[]).push([[268],{8599:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(1413),c=r(3433),a=r(9439),u=r(2791),i=r(6048);var s=r(1087),o=r(5838),f=r(6740),l=r(6160),g=function(e){return e.items},d=r(655),h=r(30),p=r(184),m=function(){var e=(0,i.T)(),t=(0,i.C)(f.A),r=t.categoryId,m=t.sort,v=t.order,j=t.searchValue,x=t.currentPage,y=t.pageSize,S=(0,i.C)(g),_=S.items,C=S.xTotalCount,k=S.status,E=function(e,t){var r=(0,u.useState)(e),n=(0,a.Z)(r,2),c=n[0],i=n[1];return(0,u.useEffect)((function(){var r=setTimeout((function(){return i(e)}),t||500);return function(){clearTimeout(r)}}),[e,t]),c}(j,250),R=(0,s.lr)(),b=(0,a.Z)(R,2),A=b[0],Z=b[1],q=u.useRef(!1),z=u.useRef(!1);u.useEffect((function(){if(z.current){var e={page:String(x),category:String(r),sortBy:m,order:v};Z(e)}z.current=!0}),[r,m,v,x]),u.useEffect((function(){if(A.has("page")&&"page=1&category=0&sortBy=rating&order=desc"!==A.toString()){var t=Object.fromEntries((0,c.Z)(A));e((0,l.rr)(t)),q.current=!0}}),[]),u.useEffect((function(){q.current||function(){var t=r?"category=".concat(r):"",n=E?"title_like=".concat(E):"";e((0,d.q)({search:n,page:String(x),category:t,sortBy:m,order:v,pageSize:String(y)}))}(),q.current=!1}),[E,x,r,m,v]);var B=u.useCallback((function(t){e((0,l.uA)(t))}),[]),N=u.useCallback((function(t){e((0,l.HD)(t))}),[]),O=(0,c.Z)(new Array(6)).map((function(e,t){return(0,p.jsx)(o.Od,{},t)})),P=_.map((function(e){return(0,p.jsx)(o.qd,(0,n.Z)({},e),e.id)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"content__top",children:[(0,p.jsx)(o.Rj,{value:r,changeCategory:B}),(0,p.jsx)(o.PE,{value:m,changeSort:N})]}),(0,p.jsx)("h2",{className:"content__title",children:"All pizzas"}),k===h.q.ERROR?(0,p.jsx)(o.Bc,{}):(0,p.jsx)("div",{className:"content__items",children:k===h.q.LOADING?O:P}),(0,p.jsx)(o.G6,{currentPage:x,count:Math.ceil(C/y),changePage:function(t){e((0,l.D4)(t))}})]})}}}]);
//# sourceMappingURL=Home.bd1953db.chunk.js.map