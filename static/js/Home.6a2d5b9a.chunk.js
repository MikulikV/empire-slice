"use strict";(self.webpackChunkreact_pizza=self.webpackChunkreact_pizza||[]).push([[268],{8599:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(1413),c=r(3433),a=r(9439),u=r(2791),s=r(6048);var i=r(1087),o=r(228),f=r(6740),g=r(6160),l=function(e){return e.items},d=r(655),h=r(30),v=r(184),j=function(){var e=(0,s.T)(),t=(0,s.C)(f.A),r=t.categoryId,j=t.sort,m=t.order,p=t.searchValue,x=t.currentPage,y=(0,s.C)(l),_=y.items,C=y.status,E=function(e,t){var r=(0,u.useState)(e),n=(0,a.Z)(r,2),c=n[0],s=n[1];return(0,u.useEffect)((function(){var r=setTimeout((function(){return s(e)}),t||500);return function(){clearTimeout(r)}}),[e,t]),c}(p,250),k=(0,i.lr)(),R=(0,a.Z)(k,2),S=R[0],b=R[1],Z=u.useRef(!1),q=u.useRef(!1);u.useEffect((function(){if(q.current){var e={page:String(x),category:String(r),sortBy:j,order:m};b(e)}q.current=!0}),[r,j,m,x]),u.useEffect((function(){if(S.has("page")&&"page=1&category=0&sortBy=rating&order=desc"!==S.toString()){var t=Object.fromEntries((0,c.Z)(S));e((0,g.rr)(t)),Z.current=!0}}),[]),u.useEffect((function(){Z.current||function(){var t=r?"category=".concat(r):"",n=E?"title=".concat(E):"";e((0,d.q)({search:n,page:String(x),category:t,sortBy:j,order:m}))}(),Z.current=!1}),[E,x,r,j,m]);var z=u.useCallback((function(t){e((0,g.uA)(t))}),[]),A=u.useCallback((function(t){e((0,g.HD)(t))}),[]),B=(0,c.Z)(new Array(6)).map((function(e,t){return(0,v.jsx)(o.Od,{},t)})),N=_.map((function(e){return(0,v.jsx)(o.qd,(0,n.Z)({},e),e.id)}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"content__top",children:[(0,v.jsx)(o.Rj,{value:r,changeCategory:z}),(0,v.jsx)(o.PE,{value:j,changeSort:A})]}),(0,v.jsx)("h2",{className:"content__title",children:"\u0412\u0441\u0435 \u043f\u0438\u0446\u0446\u044b"}),C===h.q.ERROR?(0,v.jsx)(o.Bc,{}):(0,v.jsx)("div",{className:"content__items",children:C===h.q.LOADING?B:N}),(0,v.jsx)(o.G6,{currentPage:x,changePage:function(t){e((0,g.D4)(t))}})]})}}}]);
//# sourceMappingURL=Home.6a2d5b9a.chunk.js.map